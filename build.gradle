buildscript {
  repositories {
    jcenter()
    maven { url "https://oss.sonatype.org/content/repositories/snapshots/" }
    maven { url 'https://maven.fabric.io/public' }
    maven { url 'http://dl.bintray.com/amulyakhare/maven' }
  }
  dependencies {
    classpath 'com.android.tools.build:gradle:1.5.0'
    classpath 'io.fabric.tools:gradle:1.19.2'
    classpath 'com.github.ben-manes:gradle-versions-plugin:0.11.3'
    classpath "com.fernandocejas.frodo:frodo-plugin:0.8.1"
  }
}


allprojects {
  repositories {
    jcenter()
    maven { url 'https://maven.fabric.io/public' }
    maven {
      url "https://jitpack.io"
    }
  }
}


apply plugin: 'com.android.library'
apply plugin: 'bintray-release'
apply plugin: 'com.novoda.bintray-release'
apply plugin: 'com.github.ben-manes.versions'
apply plugin: 'com.fernandocejas.frodo'

buildscript {
  repositories {
    jcenter()
  }
  dependencies {
    classpath 'com.novoda:bintray-release:0.3.4'
    classpath "com.fernandocejas.frodo:frodo-plugin:0.8.1"
  }
}

android {
  compileSdkVersion 23
  buildToolsVersion "23.0.1"

  defaultConfig {
    minSdkVersion 15
    targetSdkVersion 23
  }

  publishNonDefault true

  lintOptions {
    abortOnError false
  }

  productFlavors {
    library {}
    travis {}
  }

  buildTypes {
    debug {}
    release {}
  }
}

configurations {
  libraryDebugCompile
  libraryReleaseCompile
  travisDebugCompile
  travisReleaseCompile
}

dependencies {
  try {
    libraryDebugCompile project(path: ':sdks:GithubAndroidSdk:GitskariosCore',
        configuration: 'debug')
    libraryReleaseCompile project(path: ':sdks:GithubAndroidSdk:GitskariosCore',
        configuration: 'release')
  } catch (Exception e) {
  }

  try {
    travisDebugCompile project(path: ':GitskariosCore', configuration: 'debug')
    travisReleaseCompile project(path: ':GitskariosCore', configuration: 'release')
  } catch (Exception e) {
  }
  try {
    compile project(path: ':GitskariosCore', configuration: 'release')
  } catch (Exception e) {
  }
}

publish {
  userOrg = 'alorma'
  groupId = 'com.github.alorma'
  artifactId = 'github-sdk'
  version = '2.0.0'
  description = 'A SDK for GitHub implemented in Android'
  website = 'https://github.com/gitskarios/GithubAndroidSdk'
  issueTracker = "${website}/issues"
  repository = "${website}.git"
}